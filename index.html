<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GNQCF</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
  <div id="app">Loading...</div>
  <script>
const S={get:k=>{try{return JSON.parse(localStorage.getItem(k))}catch{return null}},set:(k,v)=>localStorage.setItem(k,JSON.stringify(v))};
let s={isAdmin:0,showLogin:0,showBackend:0,showAddModal:0,showSettings:0,showProviderModal:0,editingQual:null,password:S.get('admin-password')||'admin123',qualifications:S.get('qualifications')||[],customProviders:S.get('custom-providers')||[],logoUrl:S.get('logo-url')||'',orgName:S.get('org-name')||'GNAB',orgTagline:S.get('org-tagline')||'Grenada National Accreditation Board',search:'',filters:{provider:'all',qualification:'all',level:'all',sector:'all',verificationStatus:'all'},formData:{}};
const d={defaultProviders:['T.A. Marryshow Community College','Grenada National College',"St. George's University",'OECS Institute','New Life Organisation'],types:['Certificate','Diploma','Degree'],levels:['Level 1','Level 2','Level 3','Level 4','Level 5','Level 6','Level 7','Level 8'],sectors:['Hospitality','Education','Healthcare','Agriculture','Technology','Business','Arts','Engineering']};
const P=()=>[...d.defaultProviders,...s.customProviders];
const N=m=>{const e=document.createElement('div');e.className='fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';e.textContent=m;document.body.appendChild(e);setTimeout(()=>e.remove(),3000)};
const B=v=>({verified:{c:'bg-green-100 text-green-800 border-green-300',i:'‚úì',l:'Verified'},pending:{c:'bg-yellow-100 text-yellow-800 border-yellow-300',i:'‚è≥',l:'Pending'},rejected:{c:'bg-red-100 text-red-800 border-red-300',i:'‚úó',l:'Rejected'},unverified:{c:'bg-gray-100 text-gray-800 border-gray-300',i:'‚ö†',l:'Unverified'}}[v]||{c:'bg-gray-100 text-gray-800 border-gray-300',i:'‚ö†',l:'Unverified'});
const F=()=>s.qualifications.filter(q=>(!s.search||q.title.toLowerCase().includes(s.search.toLowerCase())||q.provider.toLowerCase().includes(s.search.toLowerCase()))&&(s.filters.provider==='all'||q.provider===s.filters.provider)&&(s.filters.qualification==='all'||q.type===s.filters.qualification)&&(s.filters.level==='all'||q.level===s.filters.level)&&(s.filters.sector==='all'||q.sector===s.filters.sector)&&(s.filters.verificationStatus==='all'||(q.verificationStatus||'unverified')===s.filters.verificationStatus));

function loadDemo(){s.qualifications=[{id:1,title:'Advanced Diploma in Hospitality Management',provider:'T.A. Marryshow Community College',type:'Diploma',level:'Level 5',sector:'Hospitality',description:'Hotel operations and tourism management.',verificationStatus:'verified',verificationDate:'2024-12-15'},{id:2,title:'Certificate in Early Childhood Education',provider:'Grenada National College',type:'Certificate',level:'Level 3',sector:'Education',description:'Child development and classroom management.',verificationStatus:'pending'},{id:3,title:'Bachelor of Science in Nursing',provider:"St. George's University",type:'Degree',level:'Level 6',sector:'Healthcare',description:'Professional nursing program.',verificationStatus:'verified',verificationDate:'2025-01-10'},{id:4,title:'Diploma in Information Technology',provider:'T.A. Marryshow Community College',type:'Diploma',level:'Level 4',sector:'Technology',description:'Programming and networking.',verificationStatus:'rejected',verificationNotes:'Does not meet standards.'},{id:5,title:'Certificate in Agricultural Science',provider:'OECS Institute',type:'Certificate',level:'Level 2',sector:'Agriculture',description:'Modern farming techniques.',verificationStatus:'unverified'},{id:6,title:'Advanced Certificate in Business Admin',provider:'Grenada National College',type:'Certificate',level:'Level 4',sector:'Business',description:'Business fundamentals.',verificationStatus:'verified',verificationDate:'2024-10-05'},{id:7,title:'Diploma in Culinary Arts',provider:'New Life Organisation',type:'Diploma',level:'Level 4',sector:'Hospitality',description:'Professional culinary training.',verificationStatus:'pending'},{id:8,title:'Bachelor of Arts in Caribbean Studies',provider:"St. George's University",type:'Degree',level:'Level 6',sector:'Arts',description:'Caribbean history and culture.',verificationStatus:'verified',verificationDate:'2024-09-12'},{id:9,title:'Certificate in Electrical Installation',provider:'T.A. Marryshow Community College',type:'Certificate',level:'Level 3',sector:'Technology',description:'Electrical wiring and safety.',verificationStatus:'verified',verificationDate:'2024-11-28'},{id:10,title:'Diploma in Primary Education',provider:'Grenada National College',type:'Diploma',level:'Level 5',sector:'Education',description:'Teacher training program.',verificationStatus:'pending'},{id:11,title:'Advanced Diploma in Accounting',provider:'T.A. Marryshow Community College',type:'Diploma',level:'Level 5',sector:'Business',description:'Financial reporting and taxation.',verificationStatus:'verified',verificationDate:'2024-08-15'},{id:12,title:'Certificate in Graphic Design',provider:'New Life Organisation',type:'Certificate',level:'Level 3',sector:'Arts',description:'Digital design and branding.',verificationStatus:'unverified'},{id:13,title:'Diploma in Marine Biology',provider:'OECS Institute',type:'Diploma',level:'Level 4',sector:'Agriculture',description:'Marine ecosystems and conservation.',verificationStatus:'verified',verificationDate:'2024-07-22'},{id:14,title:'Bachelor of Civil Engineering',provider:"St. George's University",type:'Degree',level:'Level 7',sector:'Technology',description:'Structural design and construction.',verificationStatus:'verified',verificationDate:'2024-06-10'},{id:15,title:'Certificate in Digital Marketing',provider:'Grenada National College',type:'Certificate',level:'Level 3',sector:'Business',description:'Social media and SEO.',verificationStatus:'pending'},{id:16,title:'Diploma in Mental Health Counseling',provider:'OECS Institute',type:'Diploma',level:'Level 5',sector:'Healthcare',description:'Counseling and mental health care.',verificationStatus:'verified',verificationDate:'2024-05-18'},{id:17,title:'Certificate in Renewable Energy',provider:'T.A. Marryshow Community College',type:'Certificate',level:'Level 4',sector:'Technology',description:'Solar and wind power systems.',verificationStatus:'unverified'},{id:18,title:'Diploma in Tourism Management',provider:'New Life Organisation',type:'Diploma',level:'Level 4',sector:'Hospitality',description:'Travel planning and tourism.',verificationStatus:'pending'},{id:19,title:'Bachelor of Environmental Science',provider:"St. George's University",type:'Degree',level:'Level 6',sector:'Agriculture',description:'Environmental conservation.',verificationStatus:'verified',verificationDate:'2024-04-25'},{id:20,title:'Certificate in Automotive Technology',provider:'T.A. Marryshow Community College',type:'Certificate',level:'Level 2',sector:'Technology',description:'Vehicle maintenance and repair.',verificationStatus:'verified',verificationDate:'2024-03-14'}];S.set('qualifications',s.qualifications);N('20 qualifications loaded!');render();}

function login(){const p=document.getElementById('pwInput').value;if(p===s.password){s.isAdmin=1;s.showLogin=0;N('Logged in!');render()}else{N('Invalid password')}}

function save(){if(!s.formData.title||!s.formData.provider){N('Fill required fields');return}if(s.editingQual){s.qualifications=s.qualifications.map(q=>q.id===s.editingQual.id?{...q,...s.formData}:q)}else{s.qualifications.push({id:Date.now(),...s.formData})}S.set('qualifications',s.qualifications);s.showAddModal=0;s.editingQual=null;N('Saved!');render()}

function del(id){if(confirm('Delete?')){s.qualifications=s.qualifications.filter(q=>q.id!==id);S.set('qualifications',s.qualifications);N('Deleted!');render()}}

function addProvider(){const n=document.getElementById('newProviderInput').value.trim();if(!n){N('Enter name');return}if(P().includes(n)){N('Already exists');return}s.customProviders.push(n);S.set('custom-providers',s.customProviders);N('Added!');document.getElementById('newProviderInput').value='';render()}

function deleteProvider(n){if(confirm(`Delete "${n}"?`)){s.customProviders=s.customProviders.filter(p=>p!==n);S.set('custom-providers',s.customProviders);N('Deleted!');render()}}

function handleLogoUpload(e){const f=e.target.files[0];if(!f)return;if(!f.type.startsWith('image/')){N('Image only');return}if(f.size>500*1024){N('Max 500KB');return}const r=new FileReader();r.onload=ev=>{const i=new Image();i.onload=()=>{const c=document.createElement('canvas');const m=200;let w=i.width,h=i.height;if(w>h){if(w>m){h*=m/w;w=m}}else{if(h>m){w*=m/h;h=m}}c.width=w;c.height=h;c.getContext('2d').drawImage(i,0,0,w,h);const b=c.toDataURL('image/jpeg',0.7);s.logoUrl=b;S.set('logo-url',b);N('Logo updated!');render()};i.src=ev.target.result};r.readAsDataURL(f)}

function saveBranding(){const u=document.getElementById('logoUrlInput').value.trim();const n=document.getElementById('orgNameInput').value.trim();const t=document.getElementById('orgTaglineInput').value.trim();if(u){s.logoUrl=u;S.set('logo-url',u)}if(n){s.orgName=n;S.set('org-name',n)}if(t){s.orgTagline=t;S.set('org-tagline',t)}N('Branding updated!');render()}

function removeLogo(){s.logoUrl='';S.set('logo-url','');N('Logo removed!');render()}

function render(){const f=F();const a=document.getElementById('app');const p=P();if(s.isAdmin&&s.showBackend){a.innerHTML=`<div class="min-h-screen bg-gray-100 p-6"><div class="max-w-7xl mx-auto"><div class="flex justify-between mb-6"><h1 class="text-3xl font-bold">Admin</h1><div class="flex gap-3"><button onclick="s.showSettings=1;render()" class="px-4 py-2 bg-gray-600 text-white rounded">‚öôÔ∏è</button><button onclick="s.showBackend=0;render()" class="px-4 py-2 bg-teal-600 text-white rounded">Public</button><button onclick="s.isAdmin=0;s.showBackend=0;render()" class="px-4 py-2 bg-red-500 text-white rounded">Logout</button></div></div><div class="grid md:grid-cols-3 gap-6 mb-6"><div class="bg-white rounded-lg shadow p-6"><p class="text-sm text-gray-600">Total</p><p class="text-3xl font-bold text-teal-600">${s.qualifications.length}</p></div><div class="bg-white rounded-lg shadow p-6"><p class="text-sm text-gray-600">Verified</p><p class="text-3xl font-bold text-green-600">${s.qualifications.filter(q=>q.verificationStatus==='verified').length}</p></div><div class="bg-white rounded-lg shadow p-6"><p class="text-sm text-gray-600">Pending</p><p class="text-3xl font-bold text-yellow-600">${s.qualifications.filter(q=>q.verificationStatus==='pending').length}</p></div></div><div class="bg-white rounded-lg shadow p-6 mb-6"><div class="flex gap-3"><button onclick="loadDemo()" class="px-4 py-2 bg-purple-600 text-white rounded">üìö Load 20 Demo Items</button><button onclick="s.formData={};s.editingQual=null;s.showAddModal=1;render()" class="px-4 py-2 bg-teal-600 text-white rounded">‚ûï Add</button><button onclick="s.showProviderModal=1;render()" class="px-4 py-2 bg-indigo-600 text-white rounded">üìã Providers</button></div></div><div class="bg-white rounded-lg shadow overflow-x-auto"><table class="w-full"><thead class="bg-gray-50"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Title</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Provider</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th></tr></thead><tbody class="divide-y">${s.qualifications.map(q=>{const b=B(q.verificationStatus||'unverified');return`<tr><td class="px-6 py-4 text-sm">${q.title}</td><td class="px-6 py-4 text-sm">${q.provider}</td><td class="px-6 py-4"><span class="px-2 py-1 text-xs rounded border ${b.c}">${b.i} ${b.l}</span></td><td class="px-6 py-4"><button onclick='s.editingQual=${JSON.stringify(q)};s.formData=${JSON.stringify(q)};s.showAddModal=1;render()' class="text-blue-600 mr-2">‚úèÔ∏è</button><button onclick="del(${q.id})" class="text-red-600">üóëÔ∏è</button></td></tr>`}).join('')}</tbody></table></div></div></div>`}else{a.innerHTML=`<div class="bg-yellow-50 border-b-2 border-yellow-400 py-3 px-4"><p class="text-sm font-semibold text-yellow-900">‚ö†Ô∏è Verify with GNAB</p></div><header class="bg-white shadow-sm"><div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center"><div class="flex items-center gap-3">${s.logoUrl?`<img src="${s.logoUrl}" class="w-12 h-12 object-contain rounded">`:`<div class="w-12 h-12 bg-blue-600 rounded flex items-center justify-center text-2xl">üìö</div>`}<div><div class="text-xl font-bold">${s.orgName}</div><div class="text-xs text-gray-600">${s.orgTagline}</div></div></div><div>${s.isAdmin?`<button onclick="s.showBackend=1;render()" class="px-4 py-2 bg-gray-600 text-white rounded mr-2">Admin</button><button onclick="s.isAdmin=0;render()" class="px-4 py-2 bg-red-500 text-white rounded">Logout</button>`:`<button onclick="s.showLogin=1;render()" class="px-4 py-2 bg-orange-500 text-white rounded">Login</button>`}</div></div></header><div class="bg-gradient-to-r from-teal-700 to-teal-500 text-white py-16 px-4"><div class="max-w-7xl mx-auto"><h1 class="text-5xl font-bold mb-2">GNQCF</h1><p class="text-xl">Grenada National Qualifications Framework</p></div></div><div class="max-w-7xl mx-auto px-4 py-8"><div class="bg-white rounded-lg shadow p-6 mb-6">${s.qualifications.length===0?`<div class="bg-blue-50 border border-blue-200 rounded p-4 mb-4"><h3 class="font-bold mb-2">üëã Welcome!</h3><p class="mb-3">No data found.</p>${s.isAdmin?`<button onclick="loadDemo()" class="px-6 py-2 bg-blue-600 text-white rounded">Load Demo</button>`:''}</div>`:''}<div class="mb-4"><input type="text" placeholder="Search..." class="w-full px-4 py-2 border rounded" onkeyup="s.search=this.value;render()"/></div><div class="grid md:grid-cols-5 gap-4"><select class="px-3 py-2 border rounded" onchange="s.filters.provider=this.value;render()"><option value="all">All Providers</option>${p.map(x=>`<option>${x}</option>`).join('')}</select><select class="px-3 py-2 border rounded" onchange="s.filters.qualification=this.value;render()"><option value="all">All Types</option>${d.types.map(x=>`<option>${x}</option>`).join('')}</select><select class="px-3 py-2 border rounded" onchange="s.filters.level=this.value;render()"><option value="all">All Levels</option>${d.levels.map(x=>`<option>${x}</option>`).join('')}</select><select class="px-3 py-2 border rounded" onchange="s.filters.sector=this.value;render()"><option value="all">All Sectors</option>${d.sectors.map(x=>`<option>${x}</option>`).join('')}</select><select class="px-3 py-2 border rounded" onchange="s.filters.verificationStatus=this.value;render()"><option value="all">All</option><option value="verified">‚úì Verified</option><option value="pending">‚è≥ Pending</option><option value="unverified">‚ö† Unverified</option></select></div></div><div class="bg-white rounded-lg shadow p-6">${f.length===0?`<p class="text-center py-12 text-gray-500">No results</p>`:`<p class="mb-4 text-sm text-gray-600">Showing ${f.length}</p><div class="space-y-4">${f.map(q=>{const b=B(q.verificationStatus||'unverified');return`<div class="border rounded-lg p-5"><div class="flex justify-between mb-2"><h3 class="text-lg font-semibold text-teal-700">${q.title}</h3><span class="px-3 py-1 text-xs font-semibold rounded border ${b.c}">${b.i} ${b.l}</span></div><div class="text-sm text-gray-600"><p><strong>Provider:</strong> ${q.provider}</p><p><strong>Type:</strong> ${q.type} | <strong>Level:</strong> ${q.level} | <strong>Sector:</strong> ${q.sector}</p>${q.description?`<p class="mt-2">${q.description}</p>`:''}</div></div>`}).join('')}</div>`}</div></div>`}if(s.showLogin)a.innerHTML+=`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white rounded-lg p-6 w-96"><h2 class="text-2xl font-bold mb-4">Login</h2><input type="password" id="pwInput" placeholder="Password" class="w-full px-4 py-2 border rounded mb-4" onkeypress="if(event.key==='Enter')login()"/><div class="flex gap-3"><button onclick="login()" class="flex-1 px-4 py-2 bg-teal-600 text-white rounded">Login</button><button onclick="s.showLogin=0;render()" class="flex-1 px-4 py-2 border rounded">Cancel</button></div></div></div>`;if(s.showAddModal)a.innerHTML+=`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto"><div class="bg-white rounded-lg p-6 w-full max-w-2xl my-8"><h2 class="text-2xl font-bold mb-4">${s.editingQual?'Edit':'Add'}</h2><div class="space-y-4"><input type="text" placeholder="Title *" class="w-full px-3 py-2 border rounded" value="${s.formData.title||''}" onchange="s.formData.title=this.value"/><select class="w-full px-3 py-2 border rounded" onchange="s.formData.provider=this.value"><option value="">Provider *</option>${p.map(x=>`<option ${s.formData.provider===x?'selected':''}>${x}</option>`).join('')}</select><div class="grid grid-cols-2 gap-4"><select class="w-full px-3 py-2 border rounded" onchange="s.formData.type=this.value"><option value="">Type</option>${d.types.map(x=>`<option ${s.formData.type===x?'selected':''}>${x}</option>`).join('')}</select><select class="w-full px-3 py-2 border rounded" onchange="s.formData.level=this.value"><option value="">Level</option>${d.levels.map(x=>`<option ${s.formData.level===x?'selected':''}>${x}</option>`).join('')}</select></div><select class="w-full px-3 py-2 border rounded" onchange="s.formData.sector=this.value"><option value="">Sector</option>${d.sectors.map(x=>`<option ${s.formData.sector===x?'selected':''}>${x}</option>`).join('')}</select><textarea placeholder="Description" class="w-full px-3 py-2 border rounded" rows="3" onchange="s.formData.description=this.value">${s.formData.description||''}</textarea></div><div class="flex gap-3 mt-6"><button onclick="save()" class="flex-1 px-4 py-2 bg-teal-600 text-white rounded">Save</button><button onclick="s.showAddModal=0;render()" class="flex-1 px-4 py-2 border rounded">Cancel</button></div></div></div>`;if(s.showProviderModal)a.innerHTML+=`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg p-6 w-full max-w-2xl"><h2 class="text-2xl font-bold mb-4">Providers</h2><div class="mb-6"><h3 class="font-semibold mb-3">Add New</h3><div class="flex gap-3"><input type="text" id="newProviderInput" placeholder="Name" class="flex-1 px-4 py-2 border rounded" onkeypress="if(event.key==='Enter')addProvider()"/><button onclick="addProvider()" class="px-6 py-2 bg-teal-600 text-white rounded">Add</button></div></div><div class="mb-6"><h3 class="font-semibold mb-3">Default</h3><div class="space-y-2 max-h-40 overflow-y-auto">${d.defaultProviders.map(x=>`<div class="flex justify-between p-3 bg-gray-50 rounded"><span class="text-sm">${x}</span><span class="text-xs text-gray-500">Default</span></div>`).join('')}</div></div>${s.customProviders.length>0?`<div class="mb-6"><h3 class="font-semibold mb-3">Custom</h3><div class="space-y-2 max-h-60 overflow-y-auto">${s.customProviders.map(x=>`<div class="flex justify-between p-3 bg-blue-50 rounded"><span class="text-sm">${x}</span><button onclick="deleteProvider('${x.replace(/'/g,"\\'")}')}" class="text-red-600">üóëÔ∏è</button></div>`).join('')}</div></div>`:''}<button onclick="s.showProviderModal=0;render()" class="px-6 py-2 border rounded">Close</button></div></div>`;if(s.showSettings)a.innerHTML+=`<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto"><div class="bg-white rounded-lg p-6 w-full max-w-2xl my-8"><h2 class="text-2xl font-bold mb-6">‚öôÔ∏è Settings</h2><div class="mb-6 pb-6 border-b"><h3 class="text-lg font-semibold mb-3">Password</h3><p class="text-sm mb-3">Current: <code class="bg-gray-100 px-2 py-1 rounded">${s.password}</code></p><input type="password" id="newPw" placeholder="New (min 6 chars)" class="w-full px-4 py-2 border rounded mb-3"/><input type="password" id="confirmPw" placeholder="Confirm" class="w-full px-4 py-2 border rounded mb-3"/><button onclick="const n=document.getElementById('newPw').value;const c=document.getElementById('confirmPw').value;if(n.length<6){N('Min 6');return}if(n!==c){N('No match');return}s.password=n;S.set('admin-password',n);N('Updated!');render()" class="px-4 py-2 bg-teal-600 text-white rounded">Update</button></div><div class="mb-6"><h3 class="text-lg font-semibold mb-3">üé® Branding</h3><div class="mb-4"><label class="block text-sm mb-2">Name</label><input type="text" id="orgNameInput" value="${s.orgName}" class="w-full px-4 py-2 border rounded"/></div><div class="mb-4"><label class="block text-sm mb-2">Tagline</label><input type="text" id="orgTaglineInput" value="${s.orgTagline}" class="w-full px-4 py-2 border rounded"/></div><div class="mb-4 border-t pt-4"><label class="block text-sm mb-2">Logo</label><div class="mb-3"><label class="block text-xs text-gray-600 mb-2">Upload (max 500KB)</label><input type="file" accept="image/*" onchange="handleLogoUpload(event)" class="w-full px-4 py-2 border rounded"/></div><div class="mb-3"><label class="block text-xs text-gray-600 mb-2">Or URL</label><input type="url" id="logoUrlInput" value="${s.logoUrl}" placeholder="https://..." class="w-full px-4 py-2 border rounded"/></div>${s.logoUrl?`<div class="mb-3 p-4 bg-gray-50 rounded"><p class="text-sm mb-2">Preview:</p><img src="${s.logoUrl}" class="w-16 h-16 object-contain"/></div>`:''}</div><div class="flex gap-3"><button onclick="saveBranding()" class="px-4 py-2 bg-blue-600 text-white rounded">Save</button>${s.logoUrl?`<button onclick="removeLogo()" class="px-4 py-2 bg-red-600 text-white rounded">Remove Logo</button>`:''}</div></div><button onclick="s.showSettings=0;render()" class="px-6 py-2 border rounded">Close</button></div></div>`}
render();
  </script>
</body>
</html>
